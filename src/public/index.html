<!DOCTYPE html>

<html>
    <head>
        <title>Covid-19 chat bot</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div id="headerDiv">
            <h1>Covid-19 FAQ's</h1>
            <p>Try asking questions such as, "How to stay safe?", "What are the symptoms?", "How many cases in India?"<br/><br/><br/></p>
        </div>

        <div id="chatDiv"></div>

        <div id="inputDiv">
            <textarea id="inputArea"></textarea>
            <button id="submitButton">Submit</button>
        </div>

        <script>
            const endpoint = 'http://localhost:5000/sent';
            

            document.getElementById("submitButton").onclick = () => {

                let inputMessage = document.getElementById('inputArea').value;

                let text = "<div class='chat'>";
                text += document.getElementById("inputArea").value;
                text += "</div>";
                document.getElementById("chatDiv").innerHTML += text;

                var data = {
                    query: inputMessage
                }

                fetch(endpoint, {
                    method: "post",
                    body: JSON.stringify(data),
                    headers: {
                        'Content-Type': 'application/json'
                }
            }).then(res => res.json())
            .then(res2 => console.log(res2));
            }
        </script>
    </body>
</html>